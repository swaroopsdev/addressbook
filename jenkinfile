pipeline {
    agent any
        parameters{
        string(name:'ENV' ,defaultValue:'TEST',description:'env to deploy')
        booleanParam(name:'executeTests',defaultValue:true,description:'decide to run the tc')
        choice(name:'APPVERSION' ,choices:['1.1','1.2','1.3'])
    }
        stages {
         stage('Compile') {
         steps {
            echo "Compiling the code"

        }
        }
        stage('UnitTest') {

            when{
                expression{
                        params.executeTests ==true
                }
            }
            steps {
                script{
                    echo "Running the Test Cases"
            }
            }
        }    
        stage('Package') {    
             steps{
                echo "Packaging the Code"
                echo "Deployiing to env: ${params.ENV}"
                echo "Deployiing Version: ${params.APPVERSION}"
            }
        }
    }
}
